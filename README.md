# Notion Light Backend

Pet-проект: упрощённый аналог Notion на FastAPI.

## Для чего этот проект

Проект задуман как учебный и практический пример **backend-приложения на FastAPI с “реальной” доменной логикой**, а не просто CRUD по одной табличке.  
Он помогает прокачать:

- проектирование структуры БД (страницы, теги, версии)
- работу с SQLAlchemy 2.x и Alembic (модели + миграции)
- построение REST API с вложенными сущностями и фильтрацией
- работу с JSON-полями (контент страниц)
- организацию слоёв `models / schemas / crud / api`
- контейнеризацию (Docker + docker-compose)
- базовый CI на GitHub Actions

Это хороший пет-проект для портфолио: он показывает умение строить архитектуру, работать с БД и инфраструктурой, а не только писать “hello world”.

## Что именно реализовано

Функционально backend предоставляет:

- **Страницы**  
  - создание, получение, редактирование, архивирование  
  - иерархия “страница внутри страницы” через `parent_id`  
  - хранение содержимого в JSON (структура блоков)

- **Теги**  
  - привязка нескольких тегов к странице  
  - автоматическое создание новых тегов  
  - фильтрация страниц по тегам

- **История версий**  
  - при каждом изменении страницы создаётся версия (snapshot)  
  - просмотр списка версий для страницы  
  - откат к любой версии с созданием новой актуальной версии

- **Архив (soft delete)**  
  - страницы не удаляются физически, а помечаются как `is_archived`  
  - базовый список страниц скрывает архивированные записи  

- **Публичные ссылки (share link)**  
  - генерация случайного `slug` и включение публичного доступа  
  - `GET /public/{slug}` возвращает страницу только для чтения  
  - возможность выключить публичный доступ

Технически проект демонстрирует:

- Python 3.12 + FastAPI
- SQLAlchemy 2.x (Declarative Mapping)
- PostgreSQL + Alembic миграции
- Pydantic v2 для схем и валидации
- Docker + docker-compose для локального запуска
- GitHub Actions (CI) с прогоном миграций и тестов

---

## Стек

- Python 3.12
- FastAPI
- SQLAlchemy 2.x
- PostgreSQL
- Alembic
- Pydantic v2
- Docker / docker-compose
- GitHub Actions (CI)

Все версии зафиксированы в `requirements.txt`.

...

## Быстрый старт (локально, без Docker)

### 1. Установка

```bash
git clone <url-репозитория> notion-light-backend
cd notion-light-backend

python -m venv .venv
source .venv/bin/activate     # Windows: .venv\Scripts\activate
pip install --upgrade pip
pip install -r requirements.txt
